<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Microbial Explicit Model Comparison • MEMC</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Microbial Explicit Model Comparison">
<meta name="description" content="Represent different microbial explicit carbon models in a flexible framework for model comparison exercises.">
<meta property="og:description" content="Represent different microbial explicit carbon models in a flexible framework for model comparison exercises.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">MEMC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="articles/Manual.html">Mannual</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="articles/ModelComparison.html">Run all model configurations</a></li>
    <li><a class="dropdown-item" href="articles/sens.html">Sensitivity analysis </a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JGCRI/hector"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="memc">MEMC<a class="anchor" aria-label="anchor" href="#memc"></a>
</h1></div>
<p><a href="https://github.com/Microbial-Explicit-Model/MEMC/actions/workflows/rcmd.yml" class="external-link"><img src="https://github.com/Microbial-Explicit-Model/MEMC/actions/workflows/rcmd.yml/badge.svg" alt="R-CMD"></a> <a href="https://codecov.io/gh/Microbial-Explicit-Model/MEMC" class="external-link"><img src="https://codecov.io/gh/Microbial-Explicit-Model/MEMC/branch/main/graph/badge.svg?token=MA69VLXPYP" alt="codecov"></a> <a href="https://github.com/Microbial-Explicit-Model/MEMC/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/Microbial-Explicit-Model/MEMC/actions/workflows/pkgdown.yaml/badge.svg" alt="Documentation"></a></p>
<p><code>MEMC</code> is a R package that allows users to explore various representation of soil organic matter (SOM) flux dynamics within a consistent SOM model structure. Popular microbial-explicit SOM models such as MEND<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Wang, Gangsheng, Sindhu Jagadamma, Melanie A. Mayes, Christopher W. Schadt, J. Megan Steinweg, Lianhong Gu, and Wilfred M. Post. 2015. “Microbial Dormancy Improves Development and Experimental Validation of Ecosystem Model.” The ISME Journal 9 (1): 226–37.&lt;/p&gt;"><sup>1</sup></a>, MIMICS<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;.Wieder, William R., Steven D. Allison, Eric A. Davidson, Katerina Georgiou, Oleksandra Hararuk, Yujie He, Francesca Hopkins, et al. 2015. “Explicitly Representing Soil Microbial Processes in Earth System Models.” Global Biogeochemical Cycles 29 (10): 1782–1800.&lt;/p&gt;"><sup>2</sup></a>, and CORPSE<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Sulman, Benjamin N., Jessica A. M. Moore, Rose Abramoff, Colin Averill, Stephanie Kivlin, Katerina Georgiou, Bhavya Sridhar, et al. 2018. “Multiple Models and Experiments Underscore Large Uncertainty in Soil Carbon Dynamics.” Biogeochemistry 141 (2): 109–23.&lt;/p&gt;"><sup>3</sup></a> vary significantly in their formulations of microbial mechanisms and underlying pool structure. <code>MEMC</code> provides a consistent pool structure with flexible flux dynamics: the conceptual and mathematical formulations of key SOC tranformations can be rapidly changed. This allows modelers to easily explore the effects of different conceptualizations of microbial mechanisms.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Follow the download and installation instructions for <a href="https://cloud.r-project.org/" class="external-link">R</a> and <a href="https://www.rstudio.com/products/rstudio/download/" class="external-link">R studio</a>.</p>
<p>Use <code>remotes</code> to install <code>MEMC</code> as a built R package directory from GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># use install.packages("remotes") to install this package the first time.</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(remotes)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># Now build and install the R package on your local machine.</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">'Microbial-Explicit-Model/MEMC'</span>) </span></code></pre></div>
<p>Now load <code>MEMC</code> as you would any other package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://microbial-explicit-model.github.io/MEMC">MEMC</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>The <code>MEMC</code> package ships with several already defined model configuration (see <code><a href="reference/configurations.html">help(configurations)</a></code>). Here we demonstrate how to run a simulation using the “MEND_config” configuration. For more examples and package details, please check out our <a href="https://microbial-explicit-model.github.io/MEMC/">online documentation</a>. Alternatively, users can look at the <code>memc_all_configs</code> table to see all model configurations included in the package and the microbial dynamics used in each configuration.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">memc_all_configs</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">model</th>
<th align="left">DOMuptake</th>
<th align="left">POMdecomp</th>
<th align="left">MBdecay</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">MEND</td>
<td align="left">MM</td>
<td align="left">MM</td>
<td align="left">LM</td>
</tr>
<tr class="even">
<td align="left">COMISSION</td>
<td align="left">MM</td>
<td align="left">RMM</td>
<td align="left">LM</td>
</tr>
<tr class="odd">
<td align="left">CORPSE</td>
<td align="left">RMM</td>
<td align="left">LM</td>
<td align="left">LM</td>
</tr>
<tr class="even">
<td align="left">MEMS</td>
<td align="left">LM</td>
<td align="left">LM</td>
<td align="left">LM</td>
</tr>
<tr class="odd">
<td align="left">BAMS</td>
<td align="left">MM</td>
<td align="left">MM</td>
<td align="left">LM</td>
</tr>
<tr class="even">
<td align="left">MIMCS</td>
<td align="left">MM</td>
<td align="left">MM</td>
<td align="left">DD</td>
</tr>
</tbody>
</table>
<p>Look in detail at the pre-built MEND_config configuration (see <code><a href="reference/MEND_config.html">help("MEND_config")</a></code> for more details):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Printing the summary table for a MEMC model configuration, this will indicate</span></span>
<span><span class="co"># the dynamics that will be used in the model run. </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">MEND_config</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">model</th>
<th align="left">DOMuptake</th>
<th align="left">POMdecomp</th>
<th align="left">MBdecay</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">MEND</td>
<td align="left">MM</td>
<td align="left">MM</td>
<td align="left">LM</td>
</tr></tbody>
</table>
<p>Parameter value</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The parameter values can be view using by indexing into the MEND_config object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">MEND_config</span><span class="op">$</span><span class="va">params</span><span class="op">)</span> </span>
<span><span class="co">#&gt;    parameter                                              description</span></span>
<span><span class="co">#&gt; 1        V_p        maximum specific decomposition rate for POM by EP</span></span>
<span><span class="co">#&gt; 2        K_p        half-saturation constant for decomposition of POM</span></span>
<span><span class="co">#&gt; 3        V_m        maximum specific decomposition rate for MOM by EM</span></span>
<span><span class="co">#&gt; 4        K_m        half-saturation constant for decomposition of MOM</span></span>
<span><span class="co">#&gt; 5        V_d       maximum specific uptake rate of D for growth of MB</span></span>
<span><span class="co">#&gt; 6        K_d half-saturation constant of uptake of D for growth of MB</span></span>
<span><span class="co">#&gt; 7        f_d                fraction of decomposed P allocated to DOM</span></span>
<span><span class="co">#&gt; 8        g_d                      fraction of dead B allocated to DOM</span></span>
<span><span class="co">#&gt; 9       p_ep                      fraction of mR for production of EP</span></span>
<span><span class="co">#&gt; 10      p_em                      fraction of mR for production of EM</span></span>
<span><span class="co">#&gt; 11      r_ep                                      turnover rate of EP</span></span>
<span><span class="co">#&gt; 12      r_em                                      turnover rate of EM</span></span>
<span><span class="co">#&gt; 13     Q_max                            maximum DOC sorption capacity</span></span>
<span><span class="co">#&gt; 14     K_ads                                 specific adsorption rate</span></span>
<span><span class="co">#&gt; 15     K_des                                          desorption rate</span></span>
<span><span class="co">#&gt; 16   dd_beta            strength of density dependent microbial decay</span></span>
<span><span class="co">#&gt; 17 Input_POM                                               POM input </span></span>
<span><span class="co">#&gt; 18 Input_DOM                                                DOM input</span></span>
<span><span class="co">#&gt; 19       CUE                                    carbon use efficiency</span></span>
<span><span class="co">#&gt;              units   value</span></span>
<span><span class="co">#&gt; 1  mgC mgC^-1 h^-1  14.000</span></span>
<span><span class="co">#&gt; 2     mgC / g soil  50.000</span></span>
<span><span class="co">#&gt; 3  mgC mgC^-1 h^-1   0.250</span></span>
<span><span class="co">#&gt; 4      mg C/g soil 250.000</span></span>
<span><span class="co">#&gt; 5  mgC mgC^-1 h^-1   3.000</span></span>
<span><span class="co">#&gt; 6      mg C/g soil   0.250</span></span>
<span><span class="co">#&gt; 7             &lt;NA&gt;   0.500</span></span>
<span><span class="co">#&gt; 8             &lt;NA&gt;   0.500</span></span>
<span><span class="co">#&gt; 9             &lt;NA&gt;   0.010</span></span>
<span><span class="co">#&gt; 10            &lt;NA&gt;   0.010</span></span>
<span><span class="co">#&gt; 11 mgC mgC^-1 h^-1   0.001</span></span>
<span><span class="co">#&gt; 12 mgC mgC^-1 h^-1   0.001</span></span>
<span><span class="co">#&gt; 13    mgC / g soil   3.400</span></span>
<span><span class="co">#&gt; 14 mgC mgC^-1 h^-1   0.006</span></span>
<span><span class="co">#&gt; 15 mgC mgC^-1 h^-1   0.001</span></span>
<span><span class="co">#&gt; 16            &lt;NA&gt;   1.000</span></span>
<span><span class="co">#&gt; 17            mg C   0.000</span></span>
<span><span class="co">#&gt; 18            mg C   0.000</span></span>
<span><span class="co">#&gt; 19                   0.400</span></span></code></pre></div>
<p>Initial pool states for when simulation time is equal to 0.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Similarly the initial pool values are accessed using </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">MEND_config</span><span class="op">$</span><span class="va">state</span><span class="op">)</span></span>
<span><span class="co">#&gt;      POM      MOM      QOM       MB      DOM       EP       EM       IC </span></span>
<span><span class="co">#&gt; 10.00000  5.00000  0.10000  2.00000  1.00000  0.00001  0.00001  0.00000 </span></span>
<span><span class="co">#&gt;      Tot </span></span>
<span><span class="co">#&gt; 18.10002</span></span></code></pre></div>
<p>Perform a run using the MEND model:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">36500</span>, by <span class="op">=</span> <span class="fl">25</span><span class="op">)</span> </span>
<span><span class="va">mend_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/memc_solve.html">memc_solve</a></span><span class="op">(</span>mod <span class="op">=</span> <span class="va">MEND_config</span>, time <span class="op">=</span> <span class="va">time</span><span class="op">)</span></span></code></pre></div>
<p><code>memc_solve</code> returns a long-format data frame with the state of the model pool at each time point. This makes it easy to plot the results:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">mend_out</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">time</span>, <span class="va">value</span>, color <span class="op">=</span> <span class="va">name</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="st">"variable"</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"mg C/g soil"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"time (days)"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"MEND Run Results"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="building-a-custom-model">Building a Custom Model<a class="anchor" aria-label="anchor" href="#building-a-custom-model"></a>
</h2>
<p><code>MEMC</code> allows users to easily run simulations with the provided model configurations and also build customized models of their own design by selecting any combination of the supported flux dynamics, and/or modifying the model parameters. For this example we will use the default parameter and initial pool values that are included as package data (see <code>help("memc_params)</code> and <code>help("memc_initial_state)</code> for more information).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use memc_configure to print a table describing the model configuration </span></span>
<span><span class="va">my_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/memc_configure.html">memc_configure</a></span><span class="op">(</span>params <span class="op">=</span> <span class="va">memc_params</span>, </span>
<span>                           state <span class="op">=</span> <span class="va">memc_initial_state</span>, </span>
<span>                           name <span class="op">=</span> <span class="st">"my model"</span>, </span>
<span>                           DOMuptake <span class="op">=</span> <span class="st">"MM"</span>, </span>
<span>                           POMdecomp <span class="op">=</span> <span class="st">"LM"</span>, </span>
<span>                           MBdecay <span class="op">=</span> <span class="st">"LM"</span><span class="op">)</span></span></code></pre></div>
<p>Run our customized model…</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">36500</span>, by <span class="op">=</span> <span class="fl">25</span><span class="op">)</span> </span>
<span><span class="va">my_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/memc_solve.html">memc_solve</a></span><span class="op">(</span>mod <span class="op">=</span> <span class="va">my_config</span>, time <span class="op">=</span> <span class="va">time</span><span class="op">)</span></span></code></pre></div>
<p>…and compare its output with the MEND model results from above:</p>
<p><img src="reference/figures/README-unnamed-chunk-11-1.png" width="100%"></p>
<p>Changing the POM and DOM decomposition flux dynamics affects model behavior! The flexibility of the flux dynamics makes <code>MEMC</code> a powerful tool for rapid SOM model exploration.</p>
<p>Additional features supported by <code>MEMC</code> include the ability to change model parameters, perform sensitivity analyses, and fit models with experimental/observational data (see <a href="https://microbial-explicit-model.github.io/MEMC/">online documentation</a> for examples featuring capabilities).</p>
</div>
</div>


  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing MEMC</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Kalyn Dorheim <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8093-8397" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Jianqiu Zheng <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1609-9004" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kalyn Dorheim, Jianqiu Zheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
